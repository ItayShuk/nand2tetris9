Class Snake{
    // represents the head of the snake
    field Points head;
    field Array body;
    field int size;
    field Points direction;

    Constructor Snake(){

    }
        let head = Points.new(250, 125);
        let body = Array.new(1);
        let body[0] = head;
        let size = 3;
        let direction = Points.new(1,0);
        return this;
    }

    method void incSize(){
        var Array new_body;
        var int i;
        let i = 0;
        let new_body = Array.new(size+1);
        new_body[0] = Points.new(head.getX()+direction.getX(),head.getY()+direction.getY());
        while (i < length)
         {
            let new_body[i+1] = body[i];
            let i = i + 1;
         }
        disposeBody();
        let body = new_body;
        let size = size+1;
        let head = body[0];

    }

    method void move(){
        var Points new_head;
        var Array new_body;
        let new_body =  Array.new(size);
        let new_head = Points.new(head.getX() + direction.getX(), head.getY() + direction.getY());
        var int i;
        let i = 0;
        let new_body[0] = new_head;
        while (i<size-1){
            let new_body[i+1] = body[i];
        }
        disposeBody();
        let body = new_body;
        let head = new_body[0];
    }

    method boolean collision(){
        var int i;
        let i = 1;
        while (i<size){
            if (body[0].getX() = body[i].getX() & body[0].getY() = body[i].getY())
            {
                return true;
            }
            let i = i + 1;
        }
        return false;
    }

    method Points getHead(){
        return head;
    }

    method Array get_body(){
        return body;
    }

    method Points getDirection(){
        return direction;
    }

    method int get_size(){
        return size;
    }

    method void disposeBody(){
        let i = 0;
        while (i < size)
        {
            body[i].dispose();
            let i = i + 1;
        }
        return;
    }

}